<!DOCTYPE html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      // Array of all possible color combinations
      var colors = ["W", "U", "B", "R", "G", "WU", "WB", "WR", "WG", "UB", "UR", "UG", "BR", "BG", "RG", "WUB", "WUR", "WUG", "WBR", "WBG", "WRG", "UBR", "UBG", "URG", "BRG", "WUBR", "WUBG", "WURG", "WBRG", "UBRG", "WUBRG"];
      var color = colors[Math.floor(Math.random() * colors.length)]; 
      
      var seenCards = new Set(); // Keep track of seen cards
      
      // Display the chosen color
      $("#color").text(color);
      
      // API call to Scryfall to get five random commanders of the chosen color
      for (var i = 1; i <= 5; i++) {
          $.ajax({
            url: "https://api.scryfall.com/cards/random",
            data: {
              q: "is:commander c=" + color,
            },
            success: function(card) {
              if(!seenCards.has(card.id)){
                seenCards.add(card.id);
                var $img = $("#commander" + i);
                var $link = $img.parent();
                // Display the commander name and set the image and link
                $img.attr("src", card.image_uris.normal).end()
                    .parent().attr("href", card.scryfall_uri);
              }else{
                //if card already seen, redo the loop
                i--;
              }
            }
          });
      }
    });
  </script>
</head>
<body>
  <div>
    <h1>Color: <span id="color"></span></h1>
  </div>
  <table>
    <tr>
      <td><a href="" target="_blank"><img id="commander1" src="" width="200" height="278"></a></td>
      <td><a href="" target="_blank"><img id="commander2" src="" width="200" height="278"></a></td>
      <td><a href="" target="_blank"><img id="commander3" src="" width="200" height="278"></a></td>
    </tr>
    <tr>
      <td><a href="" target="_blank"><img id="commander4" src="" width="200" height="278"></a></td>
      <td><a href="" target="_blank"><img id="commander5" src="" width="200" height="278"></a></td>
    </tr>
  </table>
  </body
  
